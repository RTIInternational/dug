{{ if .Values.dug.create_pvcs }}
apiVersion: v1
items:
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    labels:
      app: {{ .Values.dug.elasticsearch.app_name }}
    name: {{ .Values.dug.elasticsearch.pvc_name }}
  spec:
    accessModes:
    - ReadWriteMany
    resources:
      requests:
        storage: {{ .Values.dug.elasticsearch.storage_size }}
    storageClassName: {{ .Values.dug.elasticsearch.storage_class }}
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    labels:
      app: {{ .Values.dug.neo4j.app_name }}
    name: {{ .Values.dug.neo4j.pvc_name }}
  spec:
    accessModes:
      - ReadWriteMany
    resources:
      requests:
        storage: {{ .Values.dug.neo4j.storage_size }}
    storageClassName: {{ .Values.dug.neo4j.storage_class }}
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    labels:
      app: {{ .Values.dug.redis.app_name }}
    name: {{ .Values.dug.redis.pvc_name }}
  spec:
    accessModes:
      - ReadWriteMany
    resources:
      requests:
        storage: {{ .Values.dug.redis.storage_size }}
    storageClassName: {{ .Values.dug.redis.storage_class }}
kind: List
{{ end }}
